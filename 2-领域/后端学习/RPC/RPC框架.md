---
created: 2024-05-25
updated: 2024-05-25
Type: knowledge
Status: ⌛️ 等待
tags:
---
## 什么是 RPC 框架

按照网上查到的定义：
	**RPC 就是远程调用，是一种计算机的通信协议，允许程序在不同的计算机之间进行通信交互，就像本地调用一样**

常见的框架就比如 Dubbo 框架

## 为什么要使用 RPC？

RPC 的概念就是允许在分布式的环境中，程序能像调用自己的方法一样调用别的程序中的方法，如果没有 RPC 框架，那么我们就需要给这个被调用的方法写一个 HTTP 请求，如果需要调用的方法很多并且都在不同的项目中，那我们要写非常多的 web 方法，会**非常麻烦**，每次调用都要发送 HTTP 请求，响应速度方面也会有影响

## RPC 框架是怎么实现的？

假设现在有两个服务，A 和 B, A 作为消费者需要调用 B 中的方法，

简单的思路应该是这样，用 vert. x 实现一个网络服务，然后通过 vert. x 的网络服务进行调用对应 provider 的方法

### 自己实现
> 建议先看看 Dubbo 的使用官方样例，能够更好的理解

创建单项目，provider consumer、以及 rpc 框架作为公共依赖引入，然后通过 currenthashmap 进行存储方法名和参数，通过网络请求实现调用

确定思路
1. provider 方法的提供者，应当通过 RPC 框架提供可以网络调用的方法
2. common 类，这里应当储存接口，以便 consumer 消费
3. consumer 这里消费对应的方法
4. **RPC 框架**，应当实现：
	1. 储存方法（通过反射的方式实现）
	2. 调用方法（通过 vert. x 实现）
	3. 其他安全问题
	4. 负载均衡

可以看到，核心是 RPC 框架这个包，其余的方法可以非常简单，比如 provider 就提供了一个返回一个 hello world 的方法，加上你的名字