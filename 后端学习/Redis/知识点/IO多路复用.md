---
Created: 2024-01-17
Updated: 2024-01-23
Type: knowledge
Status: 🎃已完成
截止日期: 
目标: 
领域: 
tags:
---
### 什么叫IO多路复用？

[多路复用](https://juejin.cn/post/6882984260672847879)

简单来说就是，有I/O触发的时候，就会产生通知，收到了通知，再去处理通知对应的事件
多路就是指的网络连接，复用就是说用的同一个线程
- IO多路复用是一种同步IO模型，实现一个线程可以监听多个文件句柄
- 一旦某个文件句柄就绪，就能够通知应用程序进行相应的读写操作；
- 没有文件句柄就绪就会阻塞应用程序，交出CPU。

### IO多路复用

服务器端采用单线程通过 `select/poll/epoll` 等系统调用获取 fd 列表，遍历有事件的 fd 进行 `accept/recv/send` ，使其能支持更多的并发连接请求。

## IO多路复用的三种实现

- select
- poll
- epoll

### Redis对多路复用的使用

首先，Redis 是跑在单线程中的，所有的操作都是按照顺序线性执行的，但是由于读写操作等待用户输入或输出都是阻塞的，所以 I/O 操作在一般情况下往往不能直接返回，这会导致某一文件的 I/O 阻塞导致整个进程无法对其它客户提供服务，而 **I/O 多路复用** 就是为了解决这个问题而出现的。

针对IO多路复用，redis做了一层包装，叫Reactor模型
	本质就是监听各种事件，当事件发生的时候，就将事件分发给不同的处理器
  ![image.png](https://obsidian-pic-1317906728.cos.ap-nanjing.myqcloud.com/obsidian/20240106221343.png)
